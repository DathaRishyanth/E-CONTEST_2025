
                                                        KEG SYNTAX SHEET


Welcome to Shaastraâ€™s Esolang contest (that's what the 'E' stands for)!
As the name suggests, you will solve questions using an esoteric programming language. This yearâ€™s chosen language is KEG!

***NOTE***: You can view this sheet anytime during the contest, so use your time wisely.

---

KEG Syntax Sheet

Data Types
- Integers: Represented as sequences of digits, e.g., 123.
- Strings: Enclosed in double quotes, e.g., "Hello".
- Arrays: Comma-separated values enclosed in square brackets, e.g., [1, 2, 3].

---

Basic Operations
| Operator | Description                                                                                      | Example         |
|----------|--------------------------------------------------------------------------------------------------|-----------------|
| +        | Adds numbers or concatenates strings/arrays.                                                     | 2 3 + â†’ 5       |
| -        | Subtracts the top stack element from the second.                                                 | 5 2 - â†’ 3       |
| *        | Multiplies numbers; repeats strings/arrays if combined with an integer.                          | 2 "Hi" * â†’ HiHi |
| /        | Divides the second stack element by the top.                                                     | 6 3 / â†’ 2       |
| %        | Computes remainder when the second stack element is divided by the top.                          | 5 3 % â†’ 2       |

---

Stack Manipulation
| Operator | Description                              | Example            |
|----------|------------------------------------------|--------------------|
| :        | Duplicates the top stack element.        | 5 : â†’ [5, 5]       |
| \        | Swaps the top two elements.              | 1 2 \ â†’ [2, 1]    |
| ;        | Removes the top stack element.           | 3 5 ; â†’ [3]        |
| @        | Rotates the top three elements.          | 1 2 3 @ â†’ [3, 1, 2]|

---

Input/Output
| Operator | Description                                  | Example                                                   |
|----------|----------------------------------------------|-----------------------------------------------------------|
| .        | Prints the top stack element (raw).          | 123 . â†’ Prints 123.                                       |
| ,        | Prints the top stack element (nicely).       | [1,2] , â†’ Prints [1, 2].                                  |
| ~        | Pushes a random number onto the stack.       | ~ . â†’ Prints a random number.                            |
| ?        | Reads a string from input and pushes it.     | If input is "Hello", ? . â†’ Prints Hello.                 |
| Â¿        | Reads an integer from input and pushes it.   | If input is 42, Â¿ . â†’ Prints 42.                         |

---

Control Flow
Conditionals
| Syntax   | Description                                  | Example                                                         |
|----------|----------------------------------------------|-----------------------------------------------------------------|
| ?[...]   | Executes the block if the top element is truthy. | 5 ?[1 .] â†’ Prints 1.                                           |
| ?[...|...] | If truthy, executes first block; else, the second block. | 0 ?[1 .|2 .] â†’ Prints 2.                                       |

Loops
| Syntax       | Description                                | Example                                                      |
|--------------|--------------------------------------------|--------------------------------------------------------------|
| [...]        | Executes as long as the top element is truthy. | 5 :[1 - . ;] â†’ Prints 4, 3, 2, 1.                          |
| (...)        | Iterates a fixed number of times.           | 5 (2 .) â†’ Prints 2, 2, 2, 2, 2.                            |

---

Functions
- Definition: Functions are defined with @ and ;. 
- Call: A function is called with its name.

Example:
@add 2 + ;  # Define a function `add` that adds 2 to the top stack element.
5 add .      # Output: 7

---

Examples
Factorial
Â¿ : 1 [ * ; 1 - : ] \
.
# Input: 5
# Output: 120

While Loop Example
Print numbers from 5 down to 1:
5 [ . ; 1 - : ]
# Output: 5 4 3 2 1

For Loop Example
Print "Hi" 3 times:
3 ("Hi" . )
# Output: Hi Hi Hi

Random Number Example
Generate and print 5 random numbers:
5 [ ~ . ; 1 - : ]

---

Advanced Operators
| Operator   | Description                                     | Example                                    |
|------------|-------------------------------------------------|--------------------------------------------|
| =          | Checks equality of two top elements.           | 3 3 = â†’ 1                                 |
| !          | Pushes the length of the stack.                | 1 2 3 ! â†’ 3.                              |
| ^          | Reverses the stack.                            | 1 2 3 ^ â†’ [3, 2, 1].                      |
| Â°          | Accesses an array element by index.            | [1,2,3] 2 Â° . â†’ Prints 3.                 |

Unique Commands
| Symbol | Description                             |
|--------|-----------------------------------------|
| Â±      | Negates the top stack element.          |
| Ã¸      | Pushes all prefixes of the top element. |
| Â¡      | Computes the factorial.                |


Summarized Table:

!   Push the length of the stack
@   Start function
#   Start a comment
$   Swap the top two items
%   Pop x, y, push y % x
^   Reverse the stack
&   Store/Push a value in/from the register
*   Pop x, y, push y * x
()  For loop
[]  If statement
{}  While loop
:   Duplicate top
;   End function
"   Right shift
'   Left shift
<   Less than
>   Greater than
,   Print nice
.   Print raw
?   Take input
/   Pop x, y, push y / x
\   Escape next character
~   Push random number (-inf, +inf)
-   Push x, y, push y - x
_   Pop top of stack
+   Push x, y, push y + x
=   Equals
a-Z Push character literal
0-9 Push numeric literal
`   Start normal string
Â¬   Logical not
â‰    Not Equals
â‰¤   Less than or equal to
â‰¥   Greater than or equal to
â€¹â€º  List
Â°   Pop list, pos, push list[pos]
â€¢   Pop list, pos, val, list[pos] = val
Å“   Apply operator to all of stack
Â£â„¢  Map the expression to the top item iteratively
Æ’â„¢  Map the expression to the whole stack iteratively
Â§â„¢  Switch statement
Â®   Set variable
Â©   Get variable
ÃŸ   Binary List
âŸ¨â„¢  Zip map
â¸¤   Min of zip Map
â¸¢   Max of zip Map
ğŠ—   Base ten
ğŠ‚   Base 2
âˆ‘   Summate the stack
âˆ¨   Max of the stack/item
âˆ§   Min of the stack/item
âˆ†   Increment
â–½   Decrement
á¹˜   range(1, n + 1) [1, n]
á¹š   range(0, n + 1) [0, n]
á¹   range(a, b) [a, b]
á¹™   range(1, n) [1, n)
á¹›   range(0, n) [0, n)
á¹Ÿ   range(a, b) [a, b)
âš   mod 2
âŠ¡   space string
â€³   empty string
Â¢   map but keep original as input
Â§   pairwise map
Î©   print all
Â²   square top
ğŠ–   sort stack
ğŠœ   uniquify
âŠ   wrap in List
â€¦   flatten
áº•   is integer
â„¤   to integer
Â¡   factorial
Ã¸   prefixes of t.o.s
Â±   negate
â‚¬   sub-sum a list
ï¬   filter a list
â„   loop variable
Ë›   Empty string
Â¯   Item in the list
Î»   Predefined constant
ğŠ  Loop variable
âŠ•   Increment
âŠ–   Decrement

